<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>User Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
firebase.initializeApp({
  databaseURL: "https://alisignal-default-rtdb.firebaseio.com/"
});
</script>

<style>
body{
  background:black;
  color:white;
  text-align:center;
  font-family:Arial;
}
h1{
  font-size:40px;
}
</style>
</head>

<body>

<h1>ðŸŽ¯ LIVE SIGNAL</h1>
<h2 id="signal">WAITING...</h2>
<h3 id="time">--:--</h3>

<audio id="bigSound" src="big.mp3"></audio>
<audio id="smallSound" src="small.mp3"></audio>

<script>
firebase.database().ref("liveSignal").on("value", function(snapshot){
  let data = snapshot.val();
  if(!data) return;

  document.getElementById("signal").innerText = data.signal;
  document.getElementById("time").innerText = data.time;

  if(data.signal === "BIG"){
    document.getElementById("bigSound").play();
  }

  if(data.signal === "SMALL"){
    document.getElementById("smallSound").play();
  }
});
</script>

</body>
</html>
