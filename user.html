<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ali Live Signals</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  margin:0;
  font-family:Arial, sans-serif;
  background:linear-gradient(135deg,#020617,#020024,#020617);
  color:white;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
}

.box{
  width:90%;
  max-width:380px;
  background:#020617;
  border-radius:20px;
  padding:30px;
  text-align:center;
  box-shadow:0 0 25px #22c55e;
}

h1{
  margin-bottom:10px;
}

.signal{
  font-size:48px;
  margin:20px 0;
  font-weight:bold;
}

.waiting{ color:#94a3b8; }
.big{ color:#22c55e; }
.small{ color:#ef4444; }

.time{
  opacity:0.8;
  margin-bottom:20px;
}

button{
  padding:12px 20px;
  border:none;
  border-radius:10px;
  font-size:18px;
  margin:10px;
  cursor:pointer;
}

.profit{ background:#22c55e; color:black; }
.loss{ background:#ef4444; color:white; }
</style>
</head>

<body>

<div class="box">
  <h1>üì° LIVE SIGNAL</h1>

  <div id="signal" class="signal waiting">WAITING...</div>
  <div id="time" class="time">‚è± Time: --</div>

  <div>
    <button class="profit" onclick="vote('profit')">‚úÖ PROFIT</button>
    <button class="loss" onclick="vote('loss')">‚ùå LOSS</button>
  </div>
</div>

<!-- Sounds -->
<audio id="bigSound" src="big.mp3"></audio>
<audio id="smallSound" src="small.mp3"></audio>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
var firebaseConfig = {
  databaseURL: "https://alisignal-default-rtdb.firebaseio.com/"
};
firebase.initializeApp(firebaseConfig);

const signalBox = document.getElementById("signal");
const timeBox   = document.getElementById("time");
const bigSound  = document.getElementById("bigSound");
const smallSound= document.getElementById("smallSound");

firebase.database().ref("signal").on("value", snap=>{
  if(!snap.exists()) return;

  const data = snap.val();

  timeBox.innerText = "‚è± Time: " + data.time;

  if(data.size === "BIG"){
    signalBox.innerText = "BIG";
    signalBox.className = "signal big";
    bigSound.play();
  }
  else if(data.size === "SMALL"){
    signalBox.innerText = "SMALL";
    signalBox.className = "signal small";
    smallSound.play();
  }
  else{
    signalBox.innerText = "WAITING...";
    signalBox.className = "signal waiting";
  }
});

function vote(type){
  firebase.database().ref("votes/"+type).transaction(v=>(v||0)+1);
}
</script>

</body>
</html>
