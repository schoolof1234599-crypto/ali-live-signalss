<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ali Live Signals</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<style>
body{
  margin:0;
  background:#0f172a;
  font-family:Arial;
  color:white;
}
.header{
  background:#020617;
  padding:15px;
  text-align:center;
  font-size:20px;
  box-shadow:0 0 10px cyan;
}
.signalBox{
  margin:20px;
  padding:20px;
  border-radius:15px;
  background:#020617;
  text-align:center;
  box-shadow:0 0 20px #22c55e;
}
.signal{
  font-size:42px;
  margin:15px 0;
}
.time{
  color:#94a3b8;
}
.buttons{
  display:flex;
  justify-content:space-around;
  margin-top:20px;
}
button{
  padding:12px 20px;
  font-size:18px;
  border:none;
  border-radius:10px;
  cursor:pointer;
}
.profit{background:#22c55e;color:black}
.loss{background:#ef4444;color:white}

/* BOT */
#botBox{
  position:fixed;
  bottom:90px;
  right:15px;
  background:#020617;
  padding:12px 16px;
  border-radius:15px;
  max-width:230px;
  font-size:14px;
  box-shadow:0 0 15px cyan;
}
</style>
</head>

<body>

<div class="header">üì° Ali Live Color Signals</div>

<div class="signalBox">
  <div class="signal" id="signal">‚è≥ WAITING</div>
  <div class="time" id="time">---</div>

  <div class="buttons">
    <button class="profit" onclick="vote('profit')">‚úÖ PROFIT</button>
    <button class="loss" onclick="vote('loss')">‚ùå LOSS</button>
  </div>
</div>

<!-- BOT -->
<div id="botBox">ü§ñ Bot: ‚è≥ Signal ka wait karein...</div>

<!-- AUDIO (VOICE BOT) -->
<audio id="bigSound">
  <source src="big.mp3" type="audio/mpeg">
</audio>
<audio id="smallSound">
  <source src="small.mp3" type="audio/mpeg">
</audio>

<script>
/* üî• Firebase Config (SAME rehne do) */
var firebaseConfig = {
  databaseURL: "https://alisignal-default-rtdb.firebaseio.com/"
};
firebase.initializeApp(firebaseConfig);

var db = firebase.database();

/* ü§ñ BOT MESSAGE */
function bot(text){
  document.getElementById("botBox").innerText = "ü§ñ Bot: " + text;
}

/* üîä BOT VOICE */
function playVoice(signal){
  if(signal === "BIG"){
    document.getElementById("bigSound").play();
  }
  if(signal === "SMALL"){
    document.getElementById("smallSound").play();
  }
}

/* üåç LIVE SIGNAL LISTENER */
db.ref("signal").on("value", function(snapshot){
  var data = snapshot.val();

  if(data && data.current){
    document.getElementById("signal").innerText = data.current;
    document.getElementById("time").innerText = "‚è∞ " + data.time;

    bot("New Signal: " + data.current + " üöÄ");
    playVoice(data.current);
  }else{
    document.getElementById("signal").innerText = "‚è≥ WAITING";
    bot("Next signal ka wait karein...");
  }
});

/* üìä PROFIT / LOSS */
function vote(type){
  db.ref("votes/"+type).transaction(n => (n||0)+1);
  if(type==="profit"){
    bot("‚úÖ Profit feedback received!");
  }else{
    bot("‚ùå Loss feedback received!");
  }
}
</script>

</body>
</html>
