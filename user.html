<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>User Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
firebase.initializeApp({
  databaseURL: "https://alisignal-default-rtdb.firebaseio.com/"
});
</script>

<style>
body{background:#000;color:#fff;text-align:center;font-family:Arial}
#signal{font-size:40px;padding:20px;margin:20px}
</style>
</head>

<body>

<h2>ðŸ“Š USER DASHBOARD</h2>

<div id="signal">WAITING...</div>

<h3>ðŸ“© Admin Message</h3>
<p id="adminMsg">No message</p>

<audio id="bigSound" src="big.mp3"></audio>
<audio id="smallSound" src="small.mp3"></audio>

<script>
firebase.database().ref("signal").on("value", snap=>{
  let d=snap.val();
  if(!d) return;

  document.getElementById("signal").innerText=d.current;

  if(d.current==="BIG"){
    bigSound.play();
    document.body.style.background="green";
  }
  if(d.current==="SMALL"){
    smallSound.play();
    document.body.style.background="red";
  }
});

firebase.database().ref("message").on("value", snap=>{
  let d=snap.val();
  if(d) document.getElementById("adminMsg").innerText=d.text;
});
</script>

</body>
</html>
