<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>User Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
firebase.initializeApp({
  databaseURL: "https://alisignal-default-rtdb.firebaseio.com/"
});
</script>

<style>
body{
  background:#000;
  color:#fff;
  font-family:Arial;
  text-align:center;
  margin:0;
  padding:15px;
}
.box{
  border:2px solid #333;
  padding:20px;
  border-radius:10px;
  margin-top:20px;
}
.big{background:green;color:white}
.small{background:red;color:white}
.hold{background:gray;color:white}
h1{font-size:40px}
</style>
</head>

<body>

<h2>üìä USER DASHBOARD</h2>

<div class="box">
  <h3>üéØ WINGO LIVE</h3>
  <h1 id="signalText" class="hold">WAITING</h1>
  <p id="timeText">--</p>
</div>

<!-- Sounds -->
<audio id="bigSound" src="big.mp3"></audio>
<audio id="smallSound" src="small.mp3"></audio>

<script>
firebase.database().ref("liveSignal").on("value", snap=>{
  let d = snap.val();
  if(!d) return;

  let box = document.getElementById("signalText");
  box.innerText = d.signal;
  document.getElementById("timeText").innerText = "‚è± " + d.time;

  box.className = "";

  if(d.signal === "BIG"){
    box.classList.add("big");
    document.getElementById("bigSound").play();
  }
  else if(d.signal === "SMALL"){
    box.classList.add("small");
    document.getElementById("smallSound").play();
  }
  else{
    box.classList.add("hold");
  }
});
</script>

</body>
</html>
