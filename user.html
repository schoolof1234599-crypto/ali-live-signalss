<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>User Dashboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
firebase.initializeApp({
  databaseURL: "https://alisignal-default-rtdb.firebaseio.com/"
});
</script>
<button onclick="sendSignal('BIG')" style="background:green;color:white;padding:15px">BIG</button>
<button onclick="sendSignal('SMALL')" style="background:red;color:white;padding:15px">SMALL</button>
  <script>
function sendSignal(value){
  firebase.database().ref("signal").set({
    current: value,
    time: new Date().toLocaleTimeString()
  });
  alert("Signal sent: " + value);
}
  </script>
<style>

body{
  background:#000;
  color:white;
  text-align:center;
  font-family:Arial;
}
#signal{
  font-size:50px;
  margin-top:40px;
  padding:20px;
}
.big{ background:green; }
.small{ background:red; }
</style>
</head>

<body>

<h1>ðŸ“Š USER DASHBOARD</h1>

<div id="signal">Waiting...</div>

<audio id="bigSound" src="big.mp3"></audio>
<audio id="smallSound" src="small.mp3"></audio>

<script>
firebase.database().ref("signal").on("value", snap=>{
  let data = snap.val();
  if(!data) return;

  let box = document.getElementById("signal");
  box.innerText = data.current;

  if(data.current === "BIG"){
    box.className = "big";
    document.getElementById("bigSound").play();
  }

  if(data.current === "SMALL"){
    box.className = "small";
    document.getElementById("smallSound").play();
  }
});
</script>

</body>
</html>
